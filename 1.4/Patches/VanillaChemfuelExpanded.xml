<?xml version="1.0" encoding="utf-8"?>
<Patch>
    <!-- ========== RimWorld ==========

        == Generators
		WoodFiredGenerator | #power
        ChemfuelPoweredGenerator | #power
        WindTurbine | #power
        SolarGenerator | #power
        GeothermalGenerator | #power
        WatermillGenerator | #power

        == Cables
        PowerConduit | #cable
        WaterproofConduit | #cable
	-->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Core</li>
        </mods>

        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <!-- WoodFiredGenerator | ChemfuelPoweredGenerator | WindTurbine | SolarGenerator | GeothermalGenerator | WatermillGenerator -->
                <li Class="PatchOperationConditional">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[defName="WoodFiredGenerator" or defName="ChemfuelPoweredGenerator" or defName="WindTurbine" or defName="SolarGenerator" or defName="GeothermalGenerator" or defName="WatermillGenerator"]/building</xpath>
                    <match Class="PatchOperationConditional">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="WoodFiredGenerator" or defName="ChemfuelPoweredGenerator" or defName="WindTurbine" or defName="SolarGenerator" or defName="GeothermalGenerator" or defName="WatermillGenerator"]/building/relatedBuildCommands</xpath>
                        <nomatch Class="PatchOperationAdd">
                            <success>Always</success>
                            <xpath>Defs/ThingDef[defName="WoodFiredGenerator" or defName="ChemfuelPoweredGenerator" or defName="WindTurbine" or defName="SolarGenerator" or defName="GeothermalGenerator" or defName="WatermillGenerator"]/building</xpath>
                        <value>
                            <relatedBuildCommands>

                            </relatedBuildCommands>
                        </value>
                        </nomatch>
                    </match>
                    <nomatch Class="PatchOperationAdd">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="WoodFiredGenerator" or defName="ChemfuelPoweredGenerator" or defName="WindTurbine" or defName="SolarGenerator" or defName="GeothermalGenerator" or defName="WatermillGenerator"]</xpath>
                        <value>
                            <building>
                                <relatedBuildCommands>

                                </relatedBuildCommands>
                            </building>
                        </value>
                    </nomatch>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>